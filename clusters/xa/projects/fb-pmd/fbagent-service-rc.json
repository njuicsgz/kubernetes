{
   "kind":"ReplicationController",
   "apiVersion":"v1beta3",
   "metadata":{
      "name":"fbagent-service",
      "namespace": "fb-pmd-allen",
      "labels":{
         "name":"fbagent-service"
      }
   },
   "spec":{
      "replicas":1,
      "selector":{
         "name":"fbagent-service"
      },
      "template":{
         "metadata":{
	    "namespace": "fb-pmd-allen",
            "labels":{
               "name":"fbagent-service"
            }
         },
         "spec":{
             "volumes": [
                {"name": "host-log", "hostPath": {"path": "/dianyi/logs/fbagent-service"}}
            ],
            "containers":[
               {
                  "name":"fbagent-service",
                  "image":"xa.repo.ndp.com:5000/facebook_pmd/fbagent-services:1.2",
                  "lifecycle": {
                      "postStart": {
                           "exec": {
                               "command": [
                                   "/bin/sh", "-c",
                                   "echo \"31.13.67.1 graph.facebook.com \n31.13.67.1 graph-video.facebook.com\" >> /etc/hosts"
                               ]
                           }
                      }
                  },
                  "volumeMounts": [
                      {"name": "host-log", "mountPath": "/dianyi/log"}
                  ],
                  "env":[
                        {"name": "ZK_ADDRESS", "value": "172.30.10.185:42181"},
            			{"name": "BROKER_LIST", "value": "172.30.50.26:9092,172.30.50.34:9092"},
                        {"name": "LC_ALL", "value": "en_US.UTF-8"},
                        {"name": "LANG", "value": "en_US.UTF-8"},
                        {"name": "LANGUAGE", "value": "en_US:en"}
                  ],
                  "ports":[
                  ]
               }
            ]
         }
      }
   }
}
